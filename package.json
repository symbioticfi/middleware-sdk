{
  "name": "symbiotic-tests",
  "version": "1.0.0",
  "description": "Test helpers for Symbiotic protocol",
  "private": true,
  "scripts": {
    "testgen": "node test/helpers/ed25519TestGenerator.js",
    "sleep": "node -e \"setTimeout(()=>{}, Number(5)*1000)\"",
    "sleep_long": "node -e \"setTimeout(()=>{}, Number(7)*1000)\"",
    "deploy:anvil_master": "source .env && anvil --host 0.0.0.0 --port 8545 --timestamp 1746024269 --mnemonic \"test test test test test test test test test test test junk\" --auto-impersonate --no-request-size-limit --chain-id 111 --block-time $BLOCK_TIME --slots-in-an-epoch 4",
    "deploy:anvil_secondary": "source .env && anvil --host 0.0.0.0 --port 8546 --timestamp 1746024269 --mnemonic \"test test test test test test test test test test test junk\" --auto-impersonate --no-request-size-limit --chain-id 222 --block-time $BLOCK_TIME --slots-in-an-epoch 4",
    "deploy:anvil": "concurrently \"yarn deploy:anvil_master\" \"yarn deploy:anvil_secondary\"",
    "deploy:initSetup": "source .env && forge script script/test/InitSetup.s.sol:InitSetupScript 25235 --sig \"run(uint256)\" --multi --broadcast --legacy --slow --gas-estimate-multiplier 200 -vv",
    "deploy:secondarySetup": "source .env && forge script script/test/SecondarySetup.s.sol:SecondarySetupScript 25235 --sig \"run(uint256)\" --rpc-url $ETH_RPC_URL_SECONDARY --broadcast --legacy --slow --gas-estimate-multiplier 200 -vv",
    "deploy:masterSetup": "source .env && forge script script/test/MasterSetup.s.sol:MasterSetupScript 25235 --sig \"run(uint256)\" --rpc-url $ETH_RPC_URL_MASTER --broadcast --legacy --slow --gas-estimate-multiplier 200 -vv",
    "deploy:setup": "npm-run-all -s deploy:initSetup deploy:masterSetup",
    "deploy:generate_genesis": "source .env &&  yarn sleep && chmod +x script/test/utils/generate_genesis && script/test/utils/generate_genesis --master-address $MASTER_CONTRACT --rpc-url $ETH_RPC_URL_MASTER -o script/test/data/genesis_header.json",
    "deploy:masterGenesisSetup": "source .env && forge script script/test/MasterGenesisSetup.s.sol:MasterGenesisSetupScript 25235 --sig \"run(uint256)\" --rpc-url $ETH_RPC_URL_MASTER --broadcast --legacy --slow --gas-estimate-multiplier 200 -vv",
    "deploy:secondaryGenesisSetup": "source .env && forge script script/test/SecondaryGenesisSetup.s.sol:SecondaryGenesisSetupScript 25235 --sig \"run(uint256)\" --rpc-url $ETH_RPC_URL_SECONDARY --broadcast --legacy --slow --gas-estimate-multiplier 200 -vv",
    "deploy:genesisSetup": "concurrently \"yarn deploy:masterGenesisSetup\"",
    "deploy:anvil_master_wait": "source .env && cast rpc evm_increaseTime $DEPLOYMENT_BUFFER --rpc-url $ETH_RPC_URL_MASTER",
    "deploy:anvil_secondary_wait": "source .env && cast rpc evm_increaseTime $DEPLOYMENT_BUFFER --rpc-url $ETH_RPC_URL_SECONDARY",
    "deploy:anvil_wait": "concurrently \"yarn deploy:anvil_master_wait\" \"yarn deploy:anvil_secondary_wait\"",
    "deploy:genesis": "npm-run-all -s deploy:anvil_wait deploy:generate_genesis deploy:genesisSetup",
    "deploy": "concurrently \"yarn deploy:anvil\" \"yarn sleep && yarn deploy:setup && yarn deploy:genesis\"",
    "anvil:dump_master": "source .env && cast rpc anvil_dumpState --rpc-url $ETH_RPC_URL_MASTER > script/test/data/anvil_master.txt",
    "anvil:dump_secondary": "source .env && cast rpc anvil_dumpState --rpc-url $ETH_RPC_URL_SECONDARY > script/test/data/anvil_secondary.txt",
    "anvil:dump": "concurrently \"yarn anvil:dump_master\" \"yarn anvil:dump_secondary\"",
    "anvil:bump_master": "source .env && node script/test/utils/load-anvil-state.js --stateFile script/test/data/anvil_master.txt --rpcEnv ETH_RPC_URL_MASTER",
    "anvil:bump_secondary": "source .env && node script/test/utils/load-anvil-state.js --stateFile script/test/data/anvil_secondary.txt --rpcEnv ETH_RPC_URL_SECONDARY",
    "anvil:bump": "concurrently \"yarn anvil:bump_master\" \"yarn anvil:bump_secondary\"",
    "snapshot": "concurrently \"yarn deploy:anvil\" \"yarn sleep && yarn deploy:setup && yarn anvil:dump\"",
    "deploy:snapshot": "concurrently \"yarn deploy:anvil\" \"yarn sleep && yarn anvil:bump && yarn deploy:genesis\"",
    "freeze:anvil_master": "source .env && cast rpc evm_setIntervalMining 999999999999 --rpc-url $ETH_RPC_URL_MASTER",
    "freeze:anvil_secondary": "source .env && cast rpc evm_setIntervalMining 999999999999 --rpc-url $ETH_RPC_URL_SECONDARY",
    "freeze": "concurrently \"yarn freeze:anvil_master\" \"yarn freeze:anvil_secondary\"",
    "test_anvil": "concurrently \"yarn deploy:snapshot\"  \"yarn sleep && yarn sleep_long && yarn freeze && forge test -vvvv\""
  },
  "dependencies": {
    "@noble/curves": "^1.3.0",
    "dotenv": "^16.5.0",
    "ethereum-cryptography": "^2.1.3",
    "ethers": "^6.11.1"
  },
  "engines": {
    "node": ">=18.0.0"
  },
  "devDependencies": {
    "concurrently": "^9.1.2",
    "npm-run-all": "^4.1.5"
  }
}
